<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WanderLust</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="\css\rating.css">
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet">

</head>


<body>
    <%- include("../includes/navbar.ejs") %>
    <div class="container">
        <%- include("../includes/flash.ejs") %>
        <%- body %>
    </div>
    <%- include("../includes/footer.ejs") %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    <!-- Bootstrap form validation for all forms -->
    <script>

      
    (() => {
      'use strict'
      const forms = document.querySelectorAll('.needs-validation')
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }
          form.classList.add('was-validated')
        }, false)
      })
    })()


    // Tax toggle logic 
    const taxSwitch = document.getElementById("switchCheckDefault");
    const taxInfo = document.getElementsByClassName("tax-info");
    const prices = document.querySelectorAll(".listing-price");

    taxSwitch.addEventListener("click", () => {
        for (let i = 0; i < prices.length; i++) {
            const priceElement = prices[i];
            const taxInfoElement = taxInfo[i];
            const originalPrice = parseFloat(priceElement.getAttribute("data-original-price"));

            if (taxSwitch.checked) {
                // Display tax info and update price
                taxInfoElement.style.display = "inline";
                const priceWithTax = originalPrice * 1.18;
                priceElement.textContent = `PKR ${priceWithTax.toLocaleString("en-PK")} / night`;
            } else {
                // Hide tax info and revert price
                taxInfoElement.style.display = "none";
                priceElement.textContent = `PKR ${originalPrice.toLocaleString("en-PK")} / night`;
            }
        }
    });
    
    </script>

</body>

